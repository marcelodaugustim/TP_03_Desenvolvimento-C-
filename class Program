using System;
using System.Collections.Generic;
using System.Diagnostics.Tracing;
using System.Linq;


namespace TP3_DesenvolvimentoC
{
    class Program
    {
        static void Main(string[] args)
        {
            #region Criação da lista
            List<Pessoa> listaAniversarios = new List<Pessoa>();
            #endregion
            
            Console.WriteLine("AGENDA DE ANIVERSÁRIOS\r\n");
            

            while (true)                        // Laço de repetição do Menu
            {

                Console.WriteLine("MENU \r\n");

                Console.WriteLine(" 1 - Cadastrar ");
                Console.WriteLine(" 2 - Pesquisar");
                Console.WriteLine(" 3 - Sair \r\n");

                Console.Write("Digite a opção desejada: ");
                int opcaoEscolhida = Convert.ToInt32(Console.ReadLine());       // Conversão de int para string
              
                switch (opcaoEscolhida)                                        // Uso do switch
                {
                    case 1:                                                   // Criação de um objeto do tipo Pessoa
                        var aniversariante = new Pessoa();
                        Console.Write("Digite o seu nome: ");
                        string nome = Console.ReadLine();
                        aniversariante.Nome = nome;
                        Console.Write("Digite o seu sobrenome: ");
                        string sobrenome = Console.ReadLine();
                        aniversariante.Sobrenome = sobrenome;
                        Console.WriteLine("Agora,informe a data do seu próximo aniversário (dd/mm/aaaa): ");
                        aniversariante.DiadoAniversario = DateTime.Parse(Console.ReadLine());   // Conversão de DateTime para string
                        listaAniversarios.Add(aniversariante);               // Adicionamos na lista, o objeto criado
                        aniversariante.CalcularQuantosDiasFaltam();          // Método criado na classe Pessoa, que calcula a diferença de datas
                       

                        break;
                    
                    case 2:                                                  // Pesquisa 
                        
                    Console.Write("Digite o nome da pessoa que deseja pesquisar :");
                    var pesquisaNome = Console.ReadLine();
                    Console.Write("Digite o sobrenome da pessoa que deseja pesquisar :");
                    var pesquisaSobrenome = Console.ReadLine();

                        foreach (Pessoa x in listaAniversarios)          // Para cada objeto Pessoa adicionado na lista
                        {
                            if (pesquisaNome == x.Nome && pesquisaSobrenome == x.Sobrenome) 
                            {
                               Console.WriteLine($"Olá , {x.Nome} {x.Sobrenome} "); x.CalcularQuantosDiasFaltam();

                            }
                        }

                        break;

                    case 3:
                       
                        break;
                }

                Console.WriteLine("Voltar para o Menu? (S/N) ");
                var segundaOpcao = Console.ReadLine();
                if (segundaOpcao == "N")
                {
                    break;
                }


            }


        }
    }
        

}

    
